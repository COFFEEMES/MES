<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper
	namespace="com.yedam.spring.sales.ordder.mapper.OrderMapper">

	<!--주문서 조회 -->
	<select id="searchOrder" resultType="OrderVO">
		SELECT order_no,
			   vend_cd,
			   vend_nm,
			   order_dt,
			   order_sit,
			   parrd_dt
		FROM order_sheet
		<where>
			<if test="#{vendNm}!=null and !#{vendNm}.equals('')">
				vend_nm=#{vendNm} AND 
			</if>
			<if test="#{start} != null"> 
				order_dt >= #{start} AND 
			</if>
			<if test="#{end} != null"> 
				<![CDATA[order_dt <= #{end}]]>
			</if>
		</where>
		ORDER BY 1
	</select>
	
</mapper>